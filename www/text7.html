<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>
    <script src="js/jquery-1.7.2.js"></script>
    <script>
       $(function(){
           $('.all').click(function(){
               if($(this).attr('checked')){
                   $('.choose').attr('checked',$(this).attr('checked'));
               }else {
                   $('.choose').attr('checked',false);
               }
              /* console.log($('.choose').length);*/
           });
           var n=0;
          /* $('.all').click(function(){
               alert($(this).attr('checked'));
           });*/
           $('.choose').each(function(index,item){
               $(item).click(function(){
                   if($(this).attr('checked')){
                       n++;
                       console.log(n);
                   }else{
                       n--;
                   }
                   if(n==$('.choose').length){
                       $('.all').attr('checked',true);
                   }else{
                       $('.all').attr('checked',false);
                   }
               });
           });
       });
    </script>
</head>

<body>
<input type="checkbox" class="all"/>全选
<hr>
<input type="checkbox" class="choose"/><br>
<input type="checkbox" class="choose"/><br>
<input type="checkbox" class="choose"/><br>
<input type="checkbox" class="choose"/><br>
<input type="checkbox" class="choose"/>
</body>
</html>
